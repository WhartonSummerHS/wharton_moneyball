<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Module 1: Vectors and Workflow</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">WMA19</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-futbol-o"></span>
     
    Lecture Notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="module1.html">Module 1</a>
    </li>
    <li>
      <a href="module2.html">Module 2</a>
    </li>
    <li>
      <a href="module3.html">Module 3</a>
    </li>
    <li>
      <a href="module4.html">Module 4</a>
    </li>
    <li>
      <a href="module5.html">Module 5</a>
    </li>
    <li>
      <a href="module6.html">Module 6</a>
    </li>
    <li>
      <a href="module7.html">Module 7</a>
    </li>
    <li>
      <a href="module8.html">Module 8</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-dribbble"></span>
     
    Problem Sets
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ps0.html">Problem Set 0</a>
    </li>
    <li>
      <a href="ps1.html">Problem Set 1</a>
    </li>
    <li>
      <a href="ps2.html">Problem Set 2</a>
    </li>
    <li>
      <a href="ps3.html">Problem Set 3</a>
    </li>
    <li>
      <a href="ps4.html">Problem Set 4</a>
    </li>
    <li>
      <a href="ps5.html">Problem Set 5</a>
    </li>
    <li>
      <a href="ps6.html">Problem Set 6</a>
    </li>
    <li>
      <a href="ps7.html">Problem Set 7</a>
    </li>
    <li>
      <a href="ps8.html">Problem Set 8</a>
    </li>
  </ul>
</li>
<li>
  <a href="project_info.html">
    <span class="fa fa-money"></span>
     
    Projects
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Module 1: Vectors and Workflow</h1>

</div>


<div id="a-motivating-example" class="section level2">
<h2>A Motivating Example</h2>
<p>In Problem Set 0, we used R to save a single number and perform calculations.</p>
<p>While this functionality may be exciting, we’re ultimately going to be interested in analyzing large amounts of data. Consider the table below which lists different statistics for several basketball players from the 2015-16 NBA regular season. The statistics are:</p>
<ul>
<li>field goal makes (FGM)</li>
<li>field goal attempts (FGA)</li>
<li>three point makes (TPM)</li>
<li>three point attempts (TPA)</li>
<li>free throw makes (FTM)</li>
<li>free throw attempts (FTA)</li>
</ul>
<center>
<style>
table#zebra1 {font-family: 'Helvetica', 'Arial', sans-serif; font-size:16px; text-align:left; margin-bottom:25px; background-color: #FF9999;}
table#zebra1 th {color: #444; font-size: 18px; font-weight: bold; padding: 10px 8px;}
table#zebra1 td {color: #777;padding: 8px;}
table#zebra1 tr:nth-child(even) { color: black; background-color: #eee;}
table#zebra1 tr:nth-child(odd) {color: black; background-color: #fff;}
              </style>
<table id="zebra1" style="width:80%">
<tr>
<th>
PLAYER
</th>
<th>
FGM
</th>
<th>
FGA
</th>
<th>
TPM
</th>
<th>
TPA
</th>
<th>
FTM
</th>
<th>
FTA
</th>
</tr>
<tr>
<td data-th="PLAYER">
Stephen Curry
</td>
<td data-th="FGM">
805
</td>
<td data-th="FGA">
1597
</td>
<td data-th="TPM">
402
</td>
<td data-th="TPA">
887
</td>
<td data-th="FTM">
363
</td>
<td data-th="FTA">
400
</td>
</tr>
<tr>
<td data-th="PLAYER">
John Wall
</td>
<td data-th="FGM">
572
</td>
<td data-th="FGA">
1349
</td>
<td data-th="TPM">
115
</td>
<td data-th="TPA">
327
</td>
<td data-th="FTM">
272
</td>
<td data-th="FTA">
344
</td>
</tr>
<tr>
<td data-th="PLAYER">
Jimmy Butler
</td>
<td data-th="FGM">
470
</td>
<td data-th="FGA">
1034
</td>
<td data-th="TPM">
64
</td>
<td data-th="TPA">
206
</td>
<td data-th="FTM">
395
</td>
<td data-th="FTA">
475
</td>
</tr>
<tr>
<td data-th="PLAYER">
James Harden
</td>
<td data-th="FGM">
710
</td>
<td data-th="FGA">
1617
</td>
<td data-th="TPM">
236
</td>
<td data-th="TPA">
657
</td>
<td data-th="FTM">
720
</td>
<td data-th="FTA">
837
</td>
</tr>
<tr>
<td data-th="PLAYER">
Kevin Durant
</td>
<td data-th="FGM">
698
</td>
<td data-th="FGA">
1381
</td>
<td data-th="TPM">
186
</td>
<td data-th="TPA">
480
</td>
<td data-th="FTM">
447
</td>
<td data-th="FTA">
498
</td>
</tr>
<tr>
<td data-th="PLAYER">
LeBron James
</td>
<td data-th="FGM">
737
</td>
<td data-th="FGA">
1416
</td>
<td data-th="TPM">
87
</td>
<td data-th="TPA">
282
</td>
<td data-th="FTM">
359
</td>
<td data-th="FTA">
491
</td>
</tr>
<tr>
<td data-th="PLAYER">
Kristaps Porzingis
</td>
<td data-th="FGM">
498
</td>
<td data-th="FGA">
1112
</td>
<td data-th="TPM">
126
</td>
<td data-th="TPA">
342
</td>
<td data-th="FTM">
250
</td>
<td data-th="FTA">
280
</td>
</tr>
<tr>
<td data-th="PLAYER">
Dirk Nowitzki
</td>
<td data-th="FGM">
373
</td>
<td data-th="FGA">
886
</td>
<td data-th="TPM">
81
</td>
<td data-th="TPA">
243
</td>
<td data-th="FTM">
201
</td>
<td data-th="FTA">
240
</td>
</tr>
<tr>
<td data-th="PLAYER">
Tim Duncan
</td>
<td data-th="FGM">
215
</td>
<td data-th="FGA">
442
</td>
<td data-th="TPM">
0
</td>
<td data-th="TPA">
2
</td>
<td data-th="FTM">
92
</td>
<td data-th="FTA">
131
</td>
</tr>
<tr>
<td data-th="PLAYER">
Andre Drummond
</td>
<td data-th="FGM">
552
</td>
<td data-th="FGA">
1061
</td>
<td data-th="TPM">
2
</td>
<td data-th="TPA">
6
</td>
<td data-th="FTM">
208
</td>
<td data-th="FTA">
586
</td>
</tr>
</table>
</center>
<p>How are we going to load this data into R?</p>
</div>
<div id="vectors" class="section level2">
<h2>Vectors</h2>
<p>The fundamental unit of data storage in R is a <strong>vector</strong>, which is simply an ordered collection of data. We can input each column in the above table as a <strong>vector</strong>. Luckily, many of R’s functions act on these vectors, which allow us to do the same calculation on a lot of different values at once.</p>
<div id="creating-vectors" class="section level3">
<h3>Creating vectors</h3>
<p>To create a vector containing the field goal makes (FGM), we use the combine function <code>c()</code> and enter each number within the parantheses separated by commas. In the code example below, we create a vector called <code>fgm</code> which contains the FGM statistics from each player in the table and then print it out.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">805</span>, <span class="dv">572</span>, <span class="dv">470</span>, <span class="dv">710</span>, <span class="dv">698</span>, <span class="dv">737</span>, <span class="dv">498</span>, <span class="dv">373</span>, <span class="dv">215</span>, <span class="dv">552</span>)
&gt;<span class="st"> </span>fgm
 [<span class="dv">1</span>] <span class="dv">805</span> <span class="dv">572</span> <span class="dv">470</span> <span class="dv">710</span> <span class="dv">698</span> <span class="dv">737</span> <span class="dv">498</span> <span class="dv">373</span> <span class="dv">215</span> <span class="dv">552</span></code></pre></div>
<p><strong>Exercise:</strong> Create vectors <code>fga</code>, <code>tpm</code>, <code>tpa</code>, <code>ftm</code> and <code>fta</code> which contain the FGA, TMP, TPA, FTM, FTA statistics for each player respectively.</p>
<p>In R, the elements of a vector do not necessarily have to numbers. They can be character strings too. Below, we create a vector that contains the names of the players in the above table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>players &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Stephen Curry&quot;</span>, <span class="st">&quot;John Wall&quot;</span>, <span class="st">&quot;Jimmy Butler&quot;</span>, <span class="st">&quot;James Harden&quot;</span>, <span class="st">&quot;Kevin Durant&quot;</span>, 
+<span class="st">     &quot;LeBron James&quot;</span>, <span class="st">&quot;Kristaps Porzingis&quot;</span>, <span class="st">&quot;Dirk Nowitzki&quot;</span>, <span class="st">&quot;Tim Duncan&quot;</span>, <span class="st">&quot;Andre Drummond&quot;</span>)</code></pre></div>
<p>Vectors can also contain what are known as logicals, but we will rarely if ever encounter such vectors in this course. It is important to note, however, that every element of a vector must be of the same type. That is, you cannot have a vector whose first element is a number and whose second element is a character string. Let’s see what happens if we try:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">23</span>, <span class="st">&quot;LeBron&quot;</span>)</code></pre></div>
<p>In this example, R did not return an error. However, if we print out <code>x</code>, we see that it has coerced the number 23 into a character string `<code>`23</code> ’’.</p>
<p>Later in the course, we will sometimes need to create a vector of evenly spaced numbers. To do this, we use the <code>seq()</code> command. If we need to create a vector of consecutive integers, we can use the <code>:</code> syntax. Both are demonstrated below</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)
 [<span class="dv">1</span>] <span class="fl">0.0</span> <span class="fl">0.1</span> <span class="fl">0.2</span> <span class="fl">0.3</span> <span class="fl">0.4</span> <span class="fl">0.5</span> <span class="fl">0.6</span> <span class="fl">0.7</span> <span class="fl">0.8</span> <span class="fl">0.9</span> <span class="fl">1.0</span>
&gt;<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">1</span>, <span class="dt">length =</span> <span class="dv">11</span>)
 [<span class="dv">1</span>] <span class="fl">0.0</span> <span class="fl">0.1</span> <span class="fl">0.2</span> <span class="fl">0.3</span> <span class="fl">0.4</span> <span class="fl">0.5</span> <span class="fl">0.6</span> <span class="fl">0.7</span> <span class="fl">0.8</span> <span class="fl">0.9</span> <span class="fl">1.0</span>
&gt;<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
 [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span> <span class="dv">10</span></code></pre></div>
</div>
<div id="naming-elements-in-a-vector" class="section level3">
<h3>Naming elements in a vector</h3>
<p>We’re nearly done loading all of the data into the R. Now, we can start to summarize each column of the data and also start computing new statistics from the ones listed in the table above. Before proceeding, we have one more organizational task.</p>
<p>We know that the first element of the vector <code>fgm</code> is Stephen Curry’s FGM while the ninth element of <code>tpa</code> is the number of three point shots that Dirk Nowitzki attempted. When we print out <code>fgm</code> or <code>tpa</code> for instance, R does not tell us which values correspond to which players.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm
 [<span class="dv">1</span>] <span class="dv">805</span> <span class="dv">572</span> <span class="dv">470</span> <span class="dv">710</span> <span class="dv">698</span> <span class="dv">737</span> <span class="dv">498</span> <span class="dv">373</span> <span class="dv">215</span> <span class="dv">552</span>
&gt;<span class="st"> </span>tpa
 [<span class="dv">1</span>] <span class="dv">887</span> <span class="dv">327</span> <span class="dv">206</span> <span class="dv">657</span> <span class="dv">480</span> <span class="dv">282</span> <span class="dv">342</span> <span class="dv">243</span>   <span class="dv">2</span>   <span class="dv">6</span></code></pre></div>
<p>As we proceed with our analysis, it’ll be useful to have <em>named</em> the elements of the vector. We can do that with the <code>names()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm
 [<span class="dv">1</span>] <span class="dv">805</span> <span class="dv">572</span> <span class="dv">470</span> <span class="dv">710</span> <span class="dv">698</span> <span class="dv">737</span> <span class="dv">498</span> <span class="dv">373</span> <span class="dv">215</span> <span class="dv">552</span>
&gt;<span class="st"> </span><span class="kw">names</span>(fgm) &lt;-<span class="st"> </span>players
&gt;<span class="st"> </span>fgm
     Stephen Curry          John Wall       Jimmy Butler 
               <span class="dv">805</span>                <span class="dv">572</span>                <span class="dv">470</span> 
      James Harden       Kevin Durant       LeBron James 
               <span class="dv">710</span>                <span class="dv">698</span>                <span class="dv">737</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
               <span class="dv">498</span>                <span class="dv">373</span>                <span class="dv">215</span> 
    Andre Drummond 
               <span class="dv">552</span> </code></pre></div>
<p>When we use <code>names()</code>, we put the vector whose elements we want to name in the parantheses and on the right-hand side of the <code>&lt;-</code> we put a character vector of the same length as the vector we want to name containing the element names. In the example above, we set the names of <code>fgm</code> to be the elements of the vector <code>players</code>.</p>
<p><strong>Exercise</strong> Name the elements of <code>fga</code>, <code>tpm</code>, <code>tpa</code>, <code>ftm</code> and <code>fta</code>.</p>
</div>
<div id="vector-arithmetic" class="section level3">
<h3>Vector Arithmetic</h3>
<p>Once we have created a vector, we can perform calculations on each element of the vector with very straightforward syntax:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm +<span class="st"> </span><span class="dv">5</span>
     Stephen Curry          John Wall       Jimmy Butler 
               <span class="dv">810</span>                <span class="dv">577</span>                <span class="dv">475</span> 
      James Harden       Kevin Durant       LeBron James 
               <span class="dv">715</span>                <span class="dv">703</span>                <span class="dv">742</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
               <span class="dv">503</span>                <span class="dv">378</span>                <span class="dv">220</span> 
    Andre Drummond 
               <span class="dv">557</span> 
&gt;<span class="st"> </span>fgm/<span class="dv">5</span>
     Stephen Curry          John Wall       Jimmy Butler 
             <span class="fl">161.0</span>              <span class="fl">114.4</span>               <span class="fl">94.0</span> 
      James Harden       Kevin Durant       LeBron James 
             <span class="fl">142.0</span>              <span class="fl">139.6</span>              <span class="fl">147.4</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
              <span class="fl">99.6</span>               <span class="fl">74.6</span>               <span class="fl">43.0</span> 
    Andre Drummond 
             <span class="fl">110.4</span> 
&gt;<span class="st"> </span>fgm^<span class="dv">5</span>
     Stephen Curry          John Wall       Jimmy Butler 
      <span class="fl">3.380488e+14</span>       <span class="fl">6.123224e+13</span>       <span class="fl">2.293450e+13</span> 
      James Harden       Kevin Durant       LeBron James 
      <span class="fl">1.804229e+14</span>       <span class="fl">1.656827e+14</span>       <span class="fl">2.174390e+14</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
      <span class="fl">3.062998e+13</span>       <span class="fl">7.220116e+12</span>       <span class="fl">4.594014e+11</span> 
    Andre Drummond 
      <span class="fl">5.125018e+13</span> 
&gt;<span class="st"> </span><span class="kw">sqrt</span>(fgm)
     Stephen Curry          John Wall       Jimmy Butler 
          <span class="fl">28.37252</span>           <span class="fl">23.91652</span>           <span class="fl">21.67948</span> 
      James Harden       Kevin Durant       LeBron James 
          <span class="fl">26.64583</span>           <span class="fl">26.41969</span>           <span class="fl">27.14774</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
          <span class="fl">22.31591</span>           <span class="fl">19.31321</span>           <span class="fl">14.66288</span> 
    Andre Drummond 
          <span class="fl">23.49468</span> </code></pre></div>
<p>In each of these examples, we see that arithmetic proceeds <em>elements-wise</em>: <code>fgm + 5</code> added 5 to every element of <code>fgm</code> while <code>sqrt(fgm)</code> took the square root of every element in <code>fgm</code>.</p>
<p>In basketball, field goal percentage (FGP) is one of the simplest statistic we can use to summarize a player’s ability to shoot the ball well. FGP is defined as FGA/FGM. We can use the vectors <code>fga</code> and <code>fgm</code> to create a new vector <code>fgp</code> that records each players’ field goal percentage.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgp &lt;-<span class="st"> </span>fgm/fga
&gt;<span class="st"> </span>fgp
     Stephen Curry          John Wall       Jimmy Butler 
         <span class="fl">0.5040701</span>          <span class="fl">0.4240178</span>          <span class="fl">0.4545455</span> 
      James Harden       Kevin Durant       LeBron James 
         <span class="fl">0.4390847</span>          <span class="fl">0.5054308</span>          <span class="fl">0.5204802</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
         <span class="fl">0.4478417</span>          <span class="fl">0.4209932</span>          <span class="fl">0.4864253</span> 
    Andre Drummond 
         <span class="fl">0.5202639</span> </code></pre></div>
<p>To evaluate <code>fgm / fga</code>, R took the first element of <code>fgm</code> and divided it by the other first element of <code>fga</code> and so on. In order for this to work, <code>fgm</code> and <code>fga</code> had to be the same length. Technically, R is able to handle element-wise arithmetic when the vectors are not of the same length (this is known as recycling) but we will not get into it. <strong>For the purposes of this class, whenever you want to do element-wise arithmetic with two vectors, they need to be of the same length.</strong></p>
<p>To determine the length of a vector we can use the function <code>length()</code> as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">length</span>(fgm)
[<span class="dv">1</span>] <span class="dv">10</span>
&gt;<span class="st"> </span><span class="kw">length</span>(fga)
[<span class="dv">1</span>] <span class="dv">10</span>
&gt;<span class="st"> </span><span class="kw">length</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))
[<span class="dv">1</span>] <span class="dv">3</span></code></pre></div>
<p><strong>Exercise</strong> Create vectors <code>tpp</code> and <code>ftp</code> which contain the three-point percentages (TPP) and free throw percentages (FTP) of the players in the table. If a player’s field goal percentage, three point percentage, and free throw percentage exeed 50%, 40%, and 90%, respectively, they are said to belong to the <a href="https://en.wikipedia.org/wiki/50–40–90_club">50-40-90 club</a>. Did any of the players in the table above qualify for the 50-40-90 club?</p>
</div>
</div>
<div id="vector-functions" class="section level2">
<h2>Vector Functions</h2>
<p>Up to this point, we have seen how to perform element-wise arithmetic with vectors. Now that we have created the vectors <code>fgp</code>, <code>ftp</code>, and <code>tpp</code> we can start to study the <em>distribution</em> of these datasets. R has several functions that operate on entire vectors (i.e. single datasets) but not in an element-wise fashion. Below are a couple of examples. <strong>Exercise</strong> Try to describe what each of the functions below does</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span><span class="kw">sum</span>(fgp)
[<span class="dv">1</span>] <span class="fl">4.723153</span>
&gt;<span class="st"> </span><span class="kw">mean</span>(fgp)
[<span class="dv">1</span>] <span class="fl">0.4723153</span>
&gt;<span class="st"> </span><span class="kw">sd</span>(fgp)
[<span class="dv">1</span>] <span class="fl">0.03931162</span>
&gt;<span class="st"> </span><span class="kw">min</span>(fgp)
[<span class="dv">1</span>] <span class="fl">0.4209932</span>
&gt;<span class="st"> </span><span class="kw">max</span>(fgp)
[<span class="dv">1</span>] <span class="fl">0.5204802</span>
&gt;<span class="st"> </span><span class="kw">median</span>(fgp)
[<span class="dv">1</span>] <span class="fl">0.4704854</span>
&gt;<span class="st"> </span><span class="kw">range</span>(fgp)
[<span class="dv">1</span>] <span class="fl">0.4209932</span> <span class="fl">0.5204802</span>
&gt;<span class="st"> </span><span class="kw">length</span>(fgp)
[<span class="dv">1</span>] <span class="dv">10</span>
&gt;<span class="st"> </span><span class="kw">sort</span>(fgp)
     Dirk Nowitzki          John Wall       James Harden 
         <span class="fl">0.4209932</span>          <span class="fl">0.4240178</span>          <span class="fl">0.4390847</span> 
Kristaps Porzingis       Jimmy Butler         Tim Duncan 
         <span class="fl">0.4478417</span>          <span class="fl">0.4545455</span>          <span class="fl">0.4864253</span> 
     Stephen Curry       Kevin Durant     Andre Drummond 
         <span class="fl">0.5040701</span>          <span class="fl">0.5054308</span>          <span class="fl">0.5202639</span> 
      LeBron James 
         <span class="fl">0.5204802</span> 
&gt;<span class="st"> </span><span class="kw">quantile</span>(fgp)
       <span class="dv">0</span>%       25%<span class="st">       </span><span class="dv">50</span>%       75%<span class="st">      </span><span class="dv">100</span>% 
<span class="fl">0.4209932</span> <span class="fl">0.4412740</span> <span class="fl">0.4704854</span> <span class="fl">0.5050907</span> <span class="fl">0.5204802</span> 
&gt;<span class="st"> </span><span class="kw">summary</span>(fgp)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 <span class="fl">0.4210</span>  <span class="fl">0.4413</span>  <span class="fl">0.4705</span>  <span class="fl">0.4723</span>  <span class="fl">0.5051</span>  <span class="fl">0.5205</span> </code></pre></div>
<!-- 

Let's add a bunch of exercises, practicing vector arithmetic

-->
</div>
<div id="indexing" class="section level2">
<h2>Indexing</h2>
<p>Up to this point, we have created, manipulated, and summarized vectors. To do this, we took advantage of R’s ability to operate on entire vectors at once. But what if we wanted to look at only a few elements of the vectors? For example, what if we wanted to compute the difference in Stephen Curry’s field goal percentage and Dirk Nowitzki’s field goal percentage? To do this, we need a way to <em>extract</em> specific elements of a vector. This is known as <strong>subsetting</strong> and is an <strong>EXTREMELY</strong> important aspect of R since it allows us to extract and modify specific elements of an object.</p>
<p>To subset vectors, we will use the single-bracket notation <code>[ ]</code>. Between the brackets we will specify which elements we want to extract. So to extract the first element of <code>fgm</code> we would execute <code>fgm[1]</code> and to extract the third element we would execute <code>fgm[3]</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm[<span class="dv">1</span>]
Stephen Curry 
          <span class="dv">805</span> 
&gt;<span class="st"> </span>fgm[<span class="dv">3</span>]
Jimmy Butler 
         <span class="dv">470</span> </code></pre></div>
<p>If you look at the output, you’ll see that when prints the value of <code>fgm[1]</code> or <code>fgm[3]</code>, the value is preceded by a <code>[1]</code>. This is R’s way of letting you know that it is printing out a vector. So what is really happening under the hood when we subset a vector is that R is creating another temporary vector containing only the elements we wanted to subset. However, if we look in our environment pane, we see that there is no additional vector, which means that R is not saving that temporary vector. We, of course, could save it using the assignment operator and modify the new vector as much as we want:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>x &lt;-<span class="st"> </span>fgm[<span class="dv">1</span>]
&gt;<span class="st"> </span>y &lt;-<span class="st"> </span>x +<span class="st"> </span><span class="dv">3</span></code></pre></div>
<p>Above, the first line of code subsets the first element of <code>fgm</code>, creating a temporary vector of length 1 containing the first element of <code>fgm,</code> and saves the result as <code>x</code>. In the next line, it adds three to this value and saves the result as <code>y</code>. Of course, if all we wanted to do was create a vector of length one containing only the value of three plus the first element of <code>fgm</code>, we could have done <code>y &lt;- fgm[1] + 3</code>.</p>
<p>Here we see for the first time an example of R’s order of operations: subsetting happens before operations like addition. We will have a lot more to say about the order of operations a bit later.</p>
<p>We can also use our <code>[ ]</code> syntax to <em>modify</em> vectors. For instance, suppose we made a mistake inputing the first number of <code>fgm</code>, while the rest are fine. We can change this using subsetting:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">105</span></code></pre></div>
<p><strong>Exercise:</strong> Change the first element of <code>fgm</code> back to 805.</p>
<p>We are not limited to subsetting one element at a time. In order to subset multiple elements, we put a vector between the brackets:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgm[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]
Stephen Curry  Jimmy Butler 
          <span class="dv">805</span>           <span class="dv">470</span> 
&gt;<span class="st"> </span>fgm[<span class="dv">1</span>:<span class="dv">2</span>]
Stephen Curry     John Wall 
          <span class="dv">805</span>           <span class="dv">572</span> 
&gt;<span class="st"> </span>players[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]
[<span class="dv">1</span>] <span class="st">&quot;Stephen Curry&quot;</span> <span class="st">&quot;Jimmy Butler&quot;</span> </code></pre></div>
<p>We can also use names to subset vectors. Instead of putting a number (or vector of numbers) between the bracket, we now put a character string (or vector of character strings) specifying the names of vector elements we want to subset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>fgp[<span class="st">&quot;Stephen Curry&quot;</span>]
Stephen Curry 
    <span class="fl">0.5040701</span> 
&gt;<span class="st"> </span>fgp[<span class="kw">c</span>(<span class="st">&quot;Stephen Curry&quot;</span>, <span class="st">&quot;Dirk Nowitzki&quot;</span>)]
Stephen Curry Dirk Nowitzki 
    <span class="fl">0.5040701</span>     <span class="fl">0.4209932</span> 
&gt;<span class="st"> </span>fgp[<span class="st">&quot;Stephen Curry&quot;</span>] -<span class="st"> </span>fgp[<span class="st">&quot;Dirk Nowitzki&quot;</span>]
Stephen Curry 
    <span class="fl">0.0830769</span> </code></pre></div>
</div>
<div id="nba-shooting-metrics" class="section level2">
<h2>NBA Shooting Metrics</h2>
<p>Of the ten players in the table above, we see that LeBron James had the highest field goal percentage. As it turns out, during the 2015–16 season, DeAndre Jordan led the league in field goal percentage, making just over 70% of his shots. Meanwhile, Steph Curry made just over 50% of his shots. Does this mean that DeAndre Jordan is the better shooter than Curry?</p>
<p>One criticism of FGP is that it treats 2-point shots the same as 3-point shots. As a result, the league leader in FGP is usually a center whose shots mostly come from near the rim. <a href="https://en.wikipedia.org/wiki/Effective_field_goal_percentage">effective Field Goal Percentage</a> is a statistic that adjusts FGP to account for the fact that a made 3-point shots is worth 50% more than a made 2-point shot. The formula for eFGP is <span class="math display">\[ \text{eFGP} = \frac{\text{FGM} + 0.5 \times \text{TPM}}{\text{FGA}}.\]</span> We can compute the effective field goal percentage of all ten players as follows</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">&gt;<span class="st"> </span>efgp &lt;-<span class="st"> </span>(fgm +<span class="st"> </span><span class="fl">0.5</span> *<span class="st"> </span>tpm)/fga
&gt;<span class="st"> </span>efgp
     Stephen Curry          John Wall       Jimmy Butler 
         <span class="fl">0.6299311</span>          <span class="fl">0.4666420</span>          <span class="fl">0.4854932</span> 
      James Harden       Kevin Durant       LeBron James 
         <span class="fl">0.5120594</span>          <span class="fl">0.5727734</span>          <span class="fl">0.5512006</span> 
Kristaps Porzingis      Dirk Nowitzki         Tim Duncan 
         <span class="fl">0.5044964</span>          <span class="fl">0.4667043</span>          <span class="fl">0.4864253</span> 
    Andre Drummond 
         <span class="fl">0.5212064</span> </code></pre></div>
<p>We see now that Curry has the highest effective field goal percentage. Before declaring Curry was the best shooter out of these ten players, though, we might pause and ask about free throws. Both field goal percentage and effective field goal percentage totally ignore free throws. One metric that accounts for all field goals, three pointers, and free throws is <a href="https://en.wikipedia.org/wiki/True_shooting_percentage">true shooting percentage</a>, whose formula is given by <span class="math display">\[
\text{TPS} = \frac{\text{PTS}}{2\times(\text{FGA} + 0.44\times \text{FTA})},
\]</span> where <span class="math inline">\(\text{PTS} = \text{FTM} + 2 \times \text{FGM} + \text{TPM}\)</span> is the number of points scored.</p>
<p><strong>Exercise</strong> Create vectors <code>pts</code> and <code>tsp</code> for points scored (PTS) and true shooting percentage (TSP). Which player had the highest true shooting percentage?</p>
<!-- compute effective field goal percentage here, points, and true shooting percentage -->
</div>
<div id="r-scripts" class="section level2">
<h2>R Scripts</h2>
<p>Up to this point, we have been working strictly within the R console, proceeding line-by-line. As our commands become more and more complex, you’ll find that using the console can get pretty cramped. And if you make a mistake in entering your code, you’ll get an error and have to start all over again. Plus, when we start a new session of R Studio, the console is cleared. How can we save the commands we typed into R? We do so using an <strong>R Script</strong>. An R Script is a file type which R recognizes as storing R commands and is saved as a .R file. R Scripts are useful as we can edit our code before sending it to be run in the console.</p>
<p>We can start a new R Script by clicking on the top left symbol in R Studio and selecting “R Script”.</p>
<div class="figure">
<img src="figures/lecture1_fig1.png" />

</div>
<p>The untitled R Script will then appear in the top left hand box of R Studio.</p>
<div class="figure">
<img src="figures/lecture1_fig2.png" />

</div>
<p>In the R Script, type the following:</p>
<pre><code>2 * 3
x &lt;- 4
sqrt(x)</code></pre>
<p>Now our code is just sitting in the R Script. To run the code (that is, evalutate it in the console) we click the “Run” button in the top right of the script. This will run one line of code at a time - whichever line the cursor is on. Place your cursor on the first line and click “Run”. Observe how <code>2 * 3</code> now appears in the console, as well as the output <code>6</code>.</p>
<div class="figure">
<img src="figures/lecture1_fig3.png" />

</div>
<p>If we want to run multiple lines at once, we highlight them all and click “Run”.</p>
<div class="figure">
<img src="figures/lecture1_fig4.png" />

</div>
<p>Note in the above that we had to run <code>x &lt;- 4</code> before <code>sqrt(x)</code>. We need to define our variables first and run this code in the console before performing calculations with those variables. The console can’t “see” the script unless you run the code in the script.</p>
<p>One very nice thing about RStudio’s script editor is that it will highlight syntax errors with a red squiggly line and a red cross in the sidebar. If you move your mouse over the line, a pop-up will appear that can help you diagnose the potential problem.</p>
<p>Another advantage of R scripts is thta you can add comments to your code, which are preceded by the pound sign / hash sign #. Comments are useful because they allow you to explain what your code is doing.</p>
<p><strong>Exercise</strong> Create a new R script called “module1.R”&quot; which contains all of the code used to load the data from the table above and computing all of the vectors of shooting statistics. Be sure to add some comments!</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
